:root {
  --bg: #fdfdfd;
  --bg-alt: #f0f4ff;
  --text: #111;
  --accent: #0057ff;
  --accent-2: #ffd400;
  --danger: #ff1744;
  --panel-border: #000;
  --font-main: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

:root[data-theme="villain"] {
  --bg: #050509;
  --bg-alt: #101020;
  --text: #f7f7ff;
  --accent: #ff1744;
  --accent-2: #00b0ff;
  --panel-border: #f7f7ff;
}

/* Comic backgrounds */

:root[data-theme="hero"] body {
  background-image: url("../backgrounds/hero-bg.png"), url("../backgrounds/halftone.png");
  background-size: cover, 320px 320px;
  background-blend-mode: normal, multiply;
}

:root[data-theme="villain"] body {
  background-image: url("../backgrounds/villain-bg.png"), url("../backgrounds/speedlines.png");
  background-size: cover, 320px 320px;
  background-blend-mode: normal, screen;
}

/* Book frame variants */

.book-frame--comic {
  border-radius: 4px;
  border: 4px solid var(--panel-border);
  box-shadow: 16px 16px 0 var(--panel-border);
}

.book-frame--book {
  border-radius: 0;
  border: 2px solid var(--panel-border);
  box-shadow: 8px 8px 0 var(--panel-border);
}

/* Loading overlay */

.loading-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.65);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
}

.loading-inner {
  padding: 1rem 1.5rem;
  border: 3px solid #fff;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 0.85rem;
}

/* Type tags */

.type-tag {
  display: inline-block;
  margin-top: 0.25rem;
  padding: 0.15rem 0.5rem;
  font-size: 0.7rem;
  text-transform: uppercase;
  border: 2px solid var(--panel-border);
}

.type-tag--comic {
  background: var(--accent-2);
}

.type-tag--book {
  background: var(--accent);
  color: #fff;
}

/* Audio cards */

.audio-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.audio-card {
  border: 3px solid var(--panel-border);
  background: var(--bg-alt);
  padding: 1rem;
  box-shadow: 6px 6px 0 var(--panel-border);
}

.audio-player {
  width: 100%;
  margin-top: 0.5rem;
}

/* Book turn animation */

.book-frame.turn-left {
  animation: turnLeft 0.35s ease;
}

.book-frame.turn-right {
  animation: turnRight 0.35s ease;
}

@keyframes turnLeft {
  0% {
    transform: perspective(1200px) rotateY(0deg);
  }
  100% {
    transform: perspective(1200px) rotateY(-8deg);
  }
}

@keyframes turnRight {
  0% {
    transform: perspective(1200px) rotateY(0deg);
  }
  100% {
    transform: perspective(1200px) rotateY(8deg);
  }
}
